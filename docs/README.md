# 🚇 지하철 노선도 미션

## 📋  기능 목록

- 지하철 노선도 관리 네비게이션. 
  - 버튼을 누르면 각 관리 기능이 출력된다. 
- 지하철 역 데이터와 지하철 노선 데이터를 `localStorage` 를 이용해 보관한다.
  - 창이 열릴 때 데이터를 불러온다
  - 창이 닫힐 때 데이터를 저장한다.

### 역 관리

- 지하철 역 데이터를 `station-manager-button` 에 `data-` 를 이용해 보관한다. 
  - 지하철 역 데이터를 불러올 수 있다. 
  - 지하철 역 데이터를 저장할 수 있다. 

- 지하철 역을 등록할 수 있다.
  - 사용자가 입력한 이름의 지하철 역 객체를 생성한다.
  - 예외) 지하철 역 이름이 빈 값이 아닌지 검증한다. 
  - 예외) 지하철 역 이름이 2글자 이상인지 검증한다. 
  - 예외) 지하철 역 이름이 중복인지 검증한다. 
- 지하철 역을 삭제할 수 있다. 
  - 예외) 노선에 등록된 역인지 (`usedCount` 의 값이 0인지) 검증한다. 
- 지하철 역의 목록을 조회할 수 있다. 
  - 지하철 역이 등록/삭제 되면 목록을 업데이트 한다. 

### 노선 관리

- 지하철 노선 데이터를 `line-manager-button` 에 `data-` 를 이용해 보관한다. 
  - 지하철 노선 데이터를 불러올 수 있다. 
  - 지하철 노선 데이터를 저장할 수 있다. 
- 지하철 역 데이터를 불러와서 상행 종점과 하행 종점 `selector` 를 만든다.
- 지하철 노선을 등록할 수 있다.
  - 사용자가 입력한 이름의 지하철 노선 객체를 생성한다.
  - 지하철 노선이 등록되면 상행 종점과 하행 종점의 `usedCount` 를 1 증가시킨다.
  - 예외) 지하철 역 이름이 빈 값이 아닌지 검증한다.
  - 예외) 지하철 노선 이름이 중복인지 검증한다.
  - 예외) 지하철 역 목록이 빈 값이 아닌지 검증한다.
  - 예외) 상행 종점과 하행 종점의 역이 다른지 검증한다.
- 지하철 노선을 삭제할 수 있다.
  - 지하철 노선이 삭제되면 노선에 포함된 역의 `usedCount` 를 1 감소시킨다.
- 지하철 노선의 목록을 조회할 수 있다.
  - 지하철 노선이 등록/삭제 되면 목록을 업데이트 한다. 

### 구간 관리

- 지하철 노선 메뉴.
  - 지하철 노선 버튼을 누르면 각 노선의 구간 관리가 출력된다.

- 지하철 노선에 구간(역)을 추가할 수 있다.
  - 기존 역의 순서가 추가 할 역의 순서 이상인 경우 1 씩 증가시킨다.
  - 예외) 추가 할 역의 순서가 빈 값이 아닌지 검증한다.
  - 예외) 추가 할 역의 순서가 0 이상의 자연수인지 검증한다.
  - 예외) 추가 할 역의 순서가 하행 종점의 순서보다 크면 마지막에 추가 된다.
- 지하철 노선에 구간(역)을 삭제할 수 있다.
  - 기존 역의 순서가 삭제 할 역의 순서 이상인 경우 1 씩 감소시킨다.
  - 상행 종점을 삭제 할 경우 다음 역이 상행 종점이 된다.
  - 하행 종점을 삭제 할 경우 이전 역이 하행 종점이 된다.
  - 예외) 노선에 포함된 역이 두 개 이상인지 검증한다. (상행 종점역과 하행 종점역)
- 지하철 노선의 구간(역) 목록을 조회할 수 있다.
  - 지하철 노선의 구간(역)이 등록/삭제 되면 목록을 업데이트 한다. 

### 지하철 노선도 출력

- 노선의 상행 종점부터 하행 종점까지 연결된 순서대로 역 목록을 조회할 수 있다.



## 🔨  기능 수정

- `manager-button` 에 저장된 데이터를 불러오면 `class` 가 아닌 `json` 형식의 `object` 로 만들어져 `method` 가 전부 날아가게 된다.  `map` api를 이용해 `json` 데이터를 다시 `class` 객체로 변경해주어야 한다.
- `actions.js` 의 기능들 중에서 UI 로직을 담당하는 기능들은 `templates.js` 로 옮겼다.

